<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ShareGarden - Seek</title>
    <link href="style.css" rel="stylesheet" type="text/css">


    <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css"/>

</head>
<style>
    div{
        display: inline;
        margin-left: 10px;
        font-size: 20px;
        margin-right: 20px;
    }
    label{
        font-size:18px;
    }
    #header {
        text-align: center;
        font-size: 32px;
        top: 50%;
    }
    #container1,
    #container2,
    #container3{
        padding-bottom: 32px;
    }

    h2 {
        margin: 75px;
        margin-top: 100px;
        margin-left: 0;
    }

    .selection {
        width: 250px;
        height: 50px;
        margin-left: 3%;
    }

</style>
<body id="wrapper">
<script src="setup_firebase.js"></script>
<header>
    <img id="toplogo" src="images/ShareGarden.png" height="512" width="512" alt="Main Logo">
</header>

<nav>
    <ul>

        <li><a href="index.html">
            <button class="nav_button"> Home Page</button>
        </a></li>

        <li><a href="login.html">
            <button class="nav_button"> Login</button>
        </a></li>

        <li class="collapse">
            <button class="nav_button"> Concept</button>
        </li>
        <div class="content">
            <p>The concept of ShareGarden is to connect communities to healthy food alternatives.
                User's can choose to share their garden spaces (if they have a surplus of produce) or they can look for
                gardens to pick up produce from. Communal contributions help those who need it the most. Share Garden is
                a non-profit organization; however, donations and contributions are required for those seeking a
                garden.</p>

        </div>

        <li class="collapse ">
            <button class="nav_button"> About Us</button>
        </li>
        <div class="content">
            <p>Website created by Dustin Brooks, Allen Wong, and Iris Chow</p>
        </div>

    </ul>
</nav>

<h1 id="header"> Choose your plan </h1>
<!--<h2> Produce Plan </h2>-->
<!--<div class="btn-group" id="grpDIV1">-->


    <!--<p id='txt0'>-->
        <!--<button class="selection active btn">Pick-up Once</button>-->
    <!--</p>-->
    <!--<p id='txt1'>-->
        <!--<button class="selection btn"> Pick-up Weekly</button>-->
    <!--</p>-->
    <!--<p id='txt2'>-->
        <!--<button class="selection btn"> Pick-up Monthly</button>-->
    <!--</p>-->
    <!--<p id='txt3'>-->
        <!--<button class="selection btn"> Contribute to Garden</button>-->
    <!--</p>-->


<!--</div>-->
<!--<h2> Produce Type </h2>-->

<!--<div class="btn-group" id="grpDIV2">-->

    <!--<p id='txt4'>-->
        <!--<button class="selection btn2 active"> Fruits</button>-->
    <!--</p>-->
    <!--<p id='txt5'>-->
        <!--<button class="selection btn2"> Vegetables</button>-->
    <!--</p>-->
    <!--<p id='txt6'>-->
        <!--<button class="selection btn2"> Fruits & Vegetables</button>-->
    <!--</p>-->

<!--</div>-->
<!--<h2> Select Quantity </h2>-->
<!--<div class="btn-group" id="grpDIV3">-->

    <!--<p id='txt7'>-->
        <!--<button class="selection btn3 active"> Feed for 1</button>-->
    <!--</p>-->
    <!--<p id='txt8'>-->
        <!--<button class="selection btn3"> Feed for 2-3</button>-->
    <!--</p>-->
    <!--<p id='txt9'>-->
        <!--<button class="selection btn3"> Feed for 4-5</button>-->
    <!--</p>-->

<!--</div>-->

<form id="seekprofile">
    <div id="container1" >Produce Plan:
        <div>
        <input type="radio" class="plan" name="plan" value="pick-up-once">
        <label>Pick-up Once</label>
        </div>
        <div>
            <input type="radio" class="plan" name="plan" value="Pick-up-weekly">
            <label>Pick-up Weekly</label>
        </div>
        <div>
            <input type="radio" class="plan" name="plan" value="Pick-up-monthly">
            <label>Pick-up Monthly</label>
        </div>
        <div>
            <input type="radio" class="plan" name="plan" value="Contribute">
            <label>Contribute to Garden</label>
        </div>

    </div> <br>
    <div id="container2">Produce Type:
        <div>
            <input type="radio" class="type" name="type" value="Vegetables">
            <label>Vegetables</label>
        </div>
        <div>
            <input type="radio" class="type" name="type" value="Fruits">
            <label>Fruits</label>
        </div>
        <div>
            <input type="radio" class="type" name="type" value="Fruits&Veggies">
            <label>Fruits and Vegetables</label>
        </div>

    </div> <br>

    <div id="container3">Select Quantity:
        <input type="radio" class="feed" name="quantity" value="Feed for 1">
        <label>Feed for 1</label>
    </div>
    <div>
        <input type="radio" class="feed" name="quantity" value="Feed for 2-3">
        <label>Feed for 2 or 3</label>
    </div>
    <div>
        <input type="radio" class="feed" name="quantity" value="Feed for 3-5">
        <label>Feed for 3 to 5</label>
    </div>
    </div> <br><br>
    <input type="submit">
</form>
<script>
    function getValue(class_elements){
        for(let i = 0; i < class_elements.length; i++) {
            if (class_elements[i].checked){
                return class_elements[i].value
            }
        }
    }
    document.getElementById('seekprofile').addEventListener('submit', submitForm);
    var firebase = app_firebase;
    function submitForm(e) {
        e.preventDefault();
        // var quantity = document.getElementsByClassName("feed").value;
        // var type_of_user = document.getElementById("type_of_user").value;
        // var produce = document.getElementById("produce").value;
        let plans = document.getElementsByClassName('plan');
        let producetypes =document.getElementsByClassName('type');
        let quantity = document.getElementsByClassName('feed');
        var plan = getValue(plans);
        var type = getValue(producetypes);
        var user_quantity = getValue(quantity);
        var host = ['Raymond', 'Alex', 'Roland'];
        //console.log(set);
        //console.log(interest);
        //console.log(program);

        firebase.auth().onAuthStateChanged(function (user) {
            var userid = localStorage.getItem('userid'); //Update database with the profile info collected for the user
            var promise = firebase.database().ref('users/' + userid+'/').update({
                "quantity": user_quantity,
                "producetype": type,
                "produceplan": plan,
                "host": host[Math.floor(Math.random()*host.length)]
            });

            //When the database update is done, then go to logged_in.html
            promise.then(function () {
                window.location.href = "summary.html";
            });
        });
    };
</script>
<button id="bottomright" style="height:32px;width:128px;"> Submit</button>
<script src="seek_user.js"></script>
<script src="jsfile.js"></script>
<script>
    let submitbutton = document.getElementById('bottomright');
    submitbutton.onclick = function(){
        window.location.href = "summary.html"
    };
</script>


</body>
</html>
